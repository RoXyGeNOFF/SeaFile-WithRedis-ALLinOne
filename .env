# ===========================================
#  Seafile + Nginx + Certbot + MySQL 8 + Redis + Elasticsearch 7.x
#  Файл настроек .env — заполните перед запуском
# ===========================================

# Имя проекта (используется в названиях контейнеров/сетей)
COMPOSE_PROJECT_NAME=seafile_stack

# Часовой пояс контейнеров
TIME_ZONE=Europe/Berlin

# Общая сеть
DOCKER_NETWORK=seafile_net

# Папка с данными (относительно корня репозитория)
DATA_DIR=./data

# ---------------- ДОМЕН/SSL ----------------
# Полное доменное имя (A-запись на IP сервера обязательна)
SEAFILE_SERVER_HOSTNAME=drive.example.com

# Email для Let's Encrypt (уведомления о продлении/ошибках)
LETSENCRYPT_EMAIL=you@example.com

# среда Let's Encrypt: staging | production
LETSENCRYPT_ENV=staging

# ---------------- SEAFILE ------------------
# Админ Seafile
SEAFILE_ADMIN_EMAIL=admin@example.com
SEAFILE_ADMIN_PASSWORD=SsSBFjx40j6xfml2

# Максимальный размер загружаемого файла на уровне nginx
CLIENT_MAX_BODY_SIZE=2000m

# ---------------- MYSQL 8.0 ----------------
MYSQL_ROOT_PASSWORD=VvFsEDEQArehbX961XqEr9jO
MYSQL_USER=seafile
MYSQL_USER_PASSWORD=4LrzTuEc8qB43Odj1Bxr
MYSQL_DATABASE=seafile
MYSQL_HOST=mysql
MYSQL_PORT=3306

# ---------------- REDIS --------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=11nmAvMZ5rpsD9CrDDl5

# -------------- ELASTICSEARCH --------------
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ES_JAVA_OPTS=-Xms512m -Xmx512m

# ---------------- ПОРТЫ --------------------
HOST_HTTP_PORT=80
HOST_HTTPS_PORT=443

# -------------- ВЕРСИИ ОБРАЗОВ -------------
# По требованию: Seafile >= 11, официальный образ latest
SEAFILE_IMAGE=seafileltd/seafile-mc:latest
# Явные версии для стабильности остальных сервисов
MYSQL_IMAGE=mysql:8.0.39
REDIS_IMAGE=redis:7.2-alpine
ELASTIC_IMAGE=elasticsearch:7.17.21
NGINX_IMAGE=nginx:1.27-alpine
CERTBOT_IMAGE=certbot/certbot:2.11.0
INIT_IMAGE=busybox:1.36.1
BACKUP_IMAGE=alpine:3.20

# --------- ПУТИ ДАННЫХ (НЕ МЕНЯТЬ) ---------
CERTBOT_WWW=${DATA_DIR}/certbot/www
CERTBOT_CONF=${DATA_DIR}/certbot/conf
SEAFILE_DATA_DIR=${DATA_DIR}/seafile/seafile-data
MYSQL_DATA_DIR=${DATA_DIR}/mysql
REDIS_DATA_DIR=${DATA_DIR}/redis
ELASTIC_DATA_DIR=${DATA_DIR}/elasticsearch
BACKUP_DIR=${DATA_DIR}/backups
